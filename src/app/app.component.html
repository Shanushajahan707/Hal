<!-- app.component.html -->
<div class="relative min-h-screen flex items-center justify-center bg-cover bg-center"
  style="background-image: url('https://c1.wallpaperflare.com/preview/682/173/209/quran-ramadhan-muslim-islamic-religious-mubarak.jpg');">
  <div class="absolute inset-0 bg-black bg-opacity-60 z-0"></div>

  <!-- Content with overlay -->
  <div class="relative  flex flex-col z-10 bg-black bg-opacity-60 p-8 rounded-lg shadow-lg text-center text-white max-w-md mx-auto border-4 border-yellow-500 border-dotted">
    
    <!-- Loading spinner -->
    <div *ngIf="isLoading"
      class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-50 rounded-lg">
      <div class="w-16 h-16 border-t-4 border-yellow-500 border-solid rounded-full animate-spin mb-2"></div>
      <div class="w-3/4 h-2 bg-gray-700 rounded-full">
        <div class="h-full bg-yellow-500 rounded-full animate-progress"></div>
      </div>
    </div>

    <!-- Button to generate Ayah -->
    <button *ngIf="!showLocationInput" (click)="generateRandomAyah()" class="btn font-bold py-3 mb-4 px-6 rounded-lg transition-transform duration-300 ease-in-out">
      Generate Random Ayah
    </button>
    
    <!-- Toggle Location Input Button -->

    <!-- Location Input and Fetch Button -->
    <div *ngIf="showLocationInput" class="mt-4 flex flex-col gap-3 rounded">
      <input type="text" [(ngModel)]="city" placeholder="City" class="border p-2 rounded mr-2 text-black">
      <input type="text" [(ngModel)]="country" placeholder="Country" class="border p-2 rounded mr-2 text-black">
      <button (click)="fetchAzanTimes()" class="btn font-bold py-3 mb-4 px-6 rounded-lg transition-transform duration-300 ease-in-out">Fetch Azan Times</button>
    </div>
    
    <!-- Fetch Azan Times Button -->
   
   

    <button *ngIf="!showLocationInput && !azanTimes" (click)="toggleLocationInput()" class="btn font-bold py-3 mb-4 px-6 rounded-lg transition-transform duration-300 ease-in-out">
      Fetch Azan Times
    </button>

    <!-- Azan Times Display -->
  <!-- app.component.html -->
<div *ngIf="azanTimes" class="mt-4 bg-white p-6 rounded-lg shadow-lg border border-gray-300">
  <h3 class="text-xl font-bold mb-4 text-gray-800">Azan Times:</h3>
  <ul class="list-disc list-inside mb-4 text-gray-700">
    <li><strong class="font-semibold">Fajr:</strong> {{ azanTimes.Fajr }}</li>
    <li><strong class="font-semibold">Dhuhr:</strong> {{ azanTimes.Dhuhr }}</li>
    <li><strong class="font-semibold">Asr:</strong> {{ azanTimes.Asr }}</li>
    <li><strong class="font-semibold">Maghrib:</strong> {{ azanTimes.Maghrib }}</li>
    <li><strong class="font-semibold">Isha:</strong> {{ azanTimes.Isha }}</li>
  </ul>

  <!-- Additional Information -->
  <div class="mt-4">
    <p class="text-gray-700 mb-2"><strong>Arabic Month:</strong> {{ arabicMonth }}</p>
    <p class="text-gray-700 mb-2"><strong>Today's Date:</strong> {{ todayDate | date:'fullDate' }}</p>
    <p class="text-gray-700 mb-2"><strong>University:</strong> {{ universityName }}</p>
    <p class="text-gray-700 mb-2"><strong>Hijri Year:</strong> {{ hijriYear }}</p>
  </div>
</div>


    <!-- Ayah display -->
    <p *ngIf="surahAyah && !showLocationInput" class="mt-4 text-lg font-semibold opacity-0 transition-opacity duration-500 ease-in-out"
      [ngClass]="{ 'opacity-100': surahAyah }">
      Surah Ayah: {{ surahAyah }}
    </p>

    <!-- Google Search Button -->
    <a *ngIf="surahAyah && !showLocationInput" [href]="googleSearchUrl" target="_blank"
      class="block mt-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-300 ease-in-out">
      Search on Google
    </a>
  </div>
</div>
